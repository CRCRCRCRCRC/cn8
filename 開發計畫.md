## 專案目標

建立一個 **「台灣防衛情勢感知系統」** —— 能即時蒐集多源情報、量化威脅並產生 AI 綜合分析報告，最終以 **賽博龐克風格** 的絲滑儀表板呈現。系統需部署於 **Vercel**，並整合 **Google 登入** 與 **月度積分制**。

---

## 角色設定

> 你是一位專業全端開發工程師，擅長 Python 與前端動態網頁開發。請根據以下規格，自行拆解並完成開發。

---

## 核心功能

### 1. 使用者管理 & 積分機制

| 子功能           | 說明                                                                                                                                                                                                                |
| ------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Google 登入** | ‑ 採用 Google OAuth 2.0 <br>‑ 首頁如未登入即點擊「開始分析」需彈出自製視窗：「請登入後再使用！」<br>‑ 視窗按下「確認」後跳轉至 `/login`                                                                                                                          |
| **登入介面**      | ‑ 顯示「使用 Google 登入」按鈕 <br>‑ 下方小字連結 **「是開發團隊嗎？」**                                                                                                                                                                   |
| **測試碼入口**     | ‑ 點擊「是開發團隊嗎？」→ `/dev-auth` <br>‑ 輸入 *測試碼*（僅接受 `howard is a pig`，大小寫、空格完全相同）<br>‑ 正確→以無限積分進入頁面(無須登入google)；錯誤→彈窗「此測試碼無法使用」                                                                                                      | 
| **月度積分**      | ‑ 每 Google 帳號每月有 **1000 積分** <br>‑ 依所選 AI 模型一次扣點（表見下）<br>‑ 右上角固定顯示：使用者頭像 + 「剩餘 xxx／1000 積分」                                                                                                                       |
| **AI 模型及扣點**  | `gpt‑4.1‑nano‑2025‑04‑14`：2.5 點／次<br>`o4‑mini‑2025‑04‑16`：27.5 點／次<br>`o3‑2025‑04‑16`：50 點／次<br>`o3‑pro‑2025‑06‑10`：500 點／次<br>`o3‑deep‑research‑2025‑06‑26`：250 點／次<br>`o4‑mini‑deep‑research‑2025‑06‑26`：50 點／次 |


請傳送以下提示詞給用戶選擇的模型:
```
請你扮演一位專業的國際政治與安全分析師，結合公開資料與歷史案例，評估中華人民共和國在未來三個月內對台灣發動軍事行動的可能性（以百分比形式呈現）。  
請在分析中考慮以下面向：  
1. 兩岸近期的軍事演習與活動（如共機繞台、海上演習等）  
2. 中國國內的政治壓力與決策節奏（例：重要政治會議、領導人動向）  
3. 美國及盟國在台灣周邊的軍事部署與外交互動  
4. 經濟情勢與對外制裁／反制裁影響  
5. 地緣政治事件（如南海、朝鮮半島局勢）對中國決策的牽動  
6. 歷史上類似時機點（如金門炮戰、近年演習升級）之比較  

### 1. JSON 格式回覆

請先以以下 JSON 結構回覆，所有欄位皆不可省略，若無資料請填「N/A」：

```json
{
  "overall_assessment": {
    "probability": "xx%",           // 未來三個月內中國攻台的總體機率
    "confidence_level": "高/中/低"  // AI 對此評估的信心水準
  },
  "indicator_analysis": [
    {
      "name": "軍事演習動態",
      "current_status": "...",     // 簡要描述
      "impact_score": "xx%",       // 對風險影響佔比
      "trend": "升高/穩定/降低"
    },
    {
      "name": "國內政治壓力",
      "current_status": "...",
      "impact_score": "xx%",
      "trend": "升高/穩定/降低"
    },
    {
      "name": "美軍部署與盟友互動",
      "current_status": "...",
      "impact_score": "xx%",
      "trend": "升高/穩定/降低"
    },
    {
      "name": "經濟與制裁情勢",
      "current_status": "...",
      "impact_score": "xx%",
      "trend": "升高/穩定/降低"
    },
    {
      "name": "其他地緣事件",
      "current_status": "...",
      "impact_score": "xx%",
      "trend": "升高/穩定/降低"
    }
  ],
  "key_triggers": [
    "觸發點 1：描述…",
    "觸發點 2：描述…"
  ],
  "mitigation_factors": [
    "因應因素 1：描述…",
    "因應因素 2：描述…"
  ]
}
````


### 2. 最完整的分析報告（繁體中文）

請在上述 JSON 之後另起一段，用最完整、最詳盡的文字形式撰寫一份分析報告，至少 **800 字**。
報告可包含以下結構：

1. **背景說明**
2. **各指標深度解讀**

   * 軍事演習動態
   * 國內政治壓力
   * 美軍部署與盟友互動
   * 經濟與制裁情勢
   * 其他地緣事件
3. **風險觸發情境舉例**
4. **可能後果**
5. **建議對策**

---

> **請以上述 Markdown 結構回覆，切勿省略任何步驟和欄位，若無資料請填「N/A」。**
```

另外會顯示兩個卡片，一個卡片是黃金價格(https://www.investing.com/commodities/gold)，一個是小麥價格(https://www.investing.com/commodities/us-wheat)

> **交付標準**
>
> * 程式碼可在 Vercel 一鍵部署成功
> * 未登入保護、積分扣點、測試碼入口皆可正常運作
> * 前端動畫順暢、風格一致，並支援行動裝置
> * 報告文字流暢、指標合理，系統能處理 API 錯誤並回傳模板報告

* 結果最前面要顯示出近三個月攻台機率(以百分比表示)
* 項目會放在github並經由vercel部署
* 要創建一個.gitgnore